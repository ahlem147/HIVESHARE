<div class="row">
    <div class="col-lg-12">
        <div class="card">
            <div class="card-body">
                <h4 class="card-title mb-4">Creation de nouveau Projet</h4>
                <form [formGroup]="projectForm" (ngSubmit)="send()">
                    <div class="row mb-4">
                        <label for="projectname" class="col-form-label col-lg-2">Nom de projet</label>
                        <div class="col-lg-10">
                            <input id="projectname" name="projectname" type="text" formControlName="name"
                                class="form-control m-2" placeholder="Entrer le  nom de projet...">
                                @if (projectForm.controls['name'].touched &&projectForm.controls['name'].invalid) {
                                    <p class="text-danger">invalid name </p>
                                    }
                        </div>
                    </div>
                    <div class="row mb-4">
                        <label for="projectdesc" class="col-form-label col-lg-2"> Description</label>
                        <div class="col-lg-10">
                            <textarea formControlName="description" class="form-control m-2"
                                placeholder="Entrer la description..."></textarea>
                                @if (projectForm.controls['description'].touched &&projectForm.controls['description'].invalid) {
                                    <p class="text-danger">invalid description </p>
                                    }
                        </div>
                    </div>
                    <div class="row mb-4">
                        <label for="projectproject" class="col-form-label col-lg-2">Statut</label>
                        <div class="col-lg-10">
                            <select formControlName="status" class="form-control m-2">
                                <option value="pending">En cours</option>
                                <option value="completed">Terminé</option>
                                <option value="delay">Retard</option>
                            </select>
                            @if (projectForm.controls['status'].touched &&projectForm.controls['status'].invalid) {
                                <p class="text-danger">invalid status </p>
                                }
                        </div>
                    </div>
                    <div class="row mb-4">
                        <label for="projectproject" class="col-form-label col-lg-2">Client</label>
                        <div class="col-lg-10">
                            <select formControlName="client" class="form-control m-2">

                                @for (clt of clients; track clt._id) {
                                <option [value]="clt._id"> {{clt.fullname}} </option>

                                }

                            </select>
                        </div>
                    </div>
                    <div class="row mb-4">
                        <label for="projectproject" class="col-form-label col-lg-2">Memberes de l'équipe</label>
                        <div class="col-lg-10">
                            @for (emp of employers; track emp._id) {
                            <input type="checkbox" class="checkbox mt-2" (change)="selectedTeam($event)"
                                [value]="emp._id">{{ emp.fullname}} <br>

                            }

                        </div>
                    </div>

                    <div class="row mb-4">
                        <label class="col-form-label col-lg-2">Date de projet</label>
                        <div class="col-lg-10">
                            <div class="input-daterange input-group" id="project-date-inputgroup"
                                data-provide="datepicker" data-date-format="dd M, yyyy"
                                data-date-container='#project-date-inputgroup' data-date-autoclose="true">
                                <input type="date" formControlName="startDate" class="form-control m-2"
                                    placeholder=" Date debut" name="start" />
                                    @if (projectForm.controls['startDate'].touched &&projectForm.controls['startDate'].invalid) {
                                        <p class="text-danger">invalid startDate </p>
                                        }
                                <input type="date" class="form-control m-2" formControlName="endDate"
                                    placeholder=" Date fin" name="end" />
                                    @if (projectForm.controls['endDate'].touched &&projectForm.controls['endDate'].invalid) {
                                        <p class="text-danger">invalid endDate </p>
                                        }
                            </div>
                        </div>
                    </div>

                    <div class="row mb-4">
                        <label for="projectbudget" class="col-form-label col-lg-2">Budget</label>
                        <div class="col-lg-10">
                            <input id="projectbudget" formControlName="budget" name="projectbudget" type="text"
                                placeholder="Entrer le Budget..." class="form-control m-2">
                                @if (projectForm.controls['budget'].touched &&projectForm.controls['budget'].invalid) {
                                    <p class="text-danger">invalid budget </p>
                                    }
                        </div>
                    </div>
                    <div class="row mb-4">
                        <label class="col-form-label col-lg-2">Pièces jointes</label>
                        <div class="col-lg-10 text-center ">
                            <div class="dropzone pt-5">
                                <div class="fallback">
                                    <input id="image"(change)="selectedFiles($event)" multiple style="display: none;" name="file" type="file" />
                                </div>

                                <label for="image">
                                    <div class="dz-message needsclick">
                                        <div class="mb-3">
                                            <i class="display-4 text-muted bx bxs-cloud-upload"></i>
                                        </div>

                                        <h4> Cliquez pour télécharger.</h4>
                                    </div>
                                </label>
                            </div>
                        </div>
                    </div>
                    <div class="row justify-content-end">
                        <div class="col-lg-10">
                            <button type="submit"  class="btn btn-primary">Ajout Projet</button>
                        </div>
                    </div>
                </form>


            </div>
        </div>
    </div>
</div>